/**
author: jiansuna
date: 2016-07-05
description: 各个模块的方法
*/
define(["public/util.js", "require"], function(u, require) {

    window.u = u;
    window.echarts = require('echarts');


    function about() {
        //隐藏右上角
        XuntongJSBridge.call('createPop', {
                'popTitleCallBackId': "callback1",
                'items': [],
                'menuList': [],
                'popTitle': ''
            },
            function(result) {
                if (result.success == true || result.success == 'true') {
                    var callBackId = result.data ? result.data.callBackId : '';
                    if (callBackId == 'callback1') {
                        callback1();
                    }
                }
            }
        );

        function callback1() {
            return false;
        }


        $('#customerPhone').focus(function() {
            $('#customerPhone').removeClass('error');
            $('#customerPhone').siblings('p').text('');
        })
        $('#submitInfo').click(function() {
            var curGuid = u.guid(),
                curPhone,
                curTime,
                curIndustry;

            curPhone = $.trim($('#customerPhone').val());
            curTime = new Date().getFullYear() + "-" + (new Date().getMonth() + 1) + "-" + new Date().getDate();
            curIndustry = JSON.parse(localStorage.getItem('kx100_industry')).num || 0; //饮料、食品2   酒类3  日化4  其他传0
            if (!curPhone) {
                $('#customerPhone').addClass('error');
                $('#customerPhone').siblings('p').text('请输入手机号码');
                return;
            } else if (!(/^1[3|4|5|7|8]\d{9}$/.test(curPhone))) {
                $('#customerPhone').addClass('error');
                $('#customerPhone').siblings('p').text('请输入正确的手机号码');
                return;
            }
            $.ajax({
                url: "/datasource",
                type: "post",
                contentType: "application/json;charset=UTF-8",
                headers: {
                    'domain': location.hostname
                },
                data: JSON.stringify({
                    "datasourceid": "6f8bbf7a-5c19-4140-b8cc-38c4a19a61f1",
                    "enterprisenumber": "1006001",
                    "sessionid": "f61cf645-2f8e-438d-b8e2-2e0c2adb649d",
                    "params": [{
                        "xwfullname": "云之家新用户",
                        "xwexperienceid": curGuid,
                        "xwmobile": curPhone,
                        "xwregistertime": curTime,
                        "xwindustry": curIndustry
                    }]
                })
            }).then(function(data) {
                if (data && data.response_params && data.response_params.datalist && data.response_params.datalist[0] && data.response_params.datalist[0].result == "Success") {
                    u.showSubmitSuc();
                }
            });
        })
    }

    function industry() {

    }

    function role() {

    }
    //签到页面
    function check() {
        setSubmit();
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('#detailAds').text(result.data.addressdetail);
        });
    }

    function featurelist() {

    }
    //附近终端
    function terminal() {
        // 百度地图API功能
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('#detailAds').text(result.data.addressdetail);
            var map = new BMap.Map("allmap");
            var point = new BMap.Point(result.data.longitude, result.data.latitude);
            map.centerAndZoom(point, 17);
            var mk = new BMap.Marker(point);
            map.addOverlay(mk);
            map.panTo(point);
            //增加附近终端
            function addLayer(text, x, y) {
                var opts = {
                    position: point, // 指定文本标注所在的地理位置
                    offset: new BMap.Size(x, y) //设置文本偏移量
                }
                var label = new BMap.Label(text, opts); // 创建文本标注对象
                map.addOverlay(label);
            }
            addLayer("壹加壹便利店", 50, -10);
            addLayer("佳福商场", 10, -100);
            //点击事件
            function mapevent() {
                map.addEventListener("touchend", function(e) {
                    var type = u.getUrlParams('type');
                    if (e.overlay && type != 1) {
                        $('#terminalDetail').find('h5').text(e.overlay.content);
                        $('#terminalDetail').find('h5').next().text(result.data.addressdetail);

                        $('#terminalDetail').show();
                    };
                });
            }
            setTimeout(mapevent, 500);
        });
    }

    function addterminal() {
        setSubmit();
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('#detailAds').text(result.data.addressdetail);
        });
    }

    function myterminal() {
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('.terminal-list .cur-location').text(result.data.addressdetail);
        });
        var curDate = new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getDate();
        $('.terminal-list .cur-time').text(curDate);
    }

    function activedetail() {
        //填充现在的月份
        var curMonth = new Date().getMonth() + 1;
        $('#curMonth').html(curMonth + "月份");
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('.active-detail .cur-location').text(result.data.addressdetail);
        });
    }

    function editterminal() {

    }

    function visitreview() {
        var curDate = new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getDate();
        $('.visit-review .cur-time').text(curDate);
    }

    //拜访八步骤
    function visitstep() {
        //点击右上角的提交按钮
        XuntongJSBridge.call('createPop', {
                'popTitle': "提交",
                'popTitleCallBackId': "callback1",
                'menuList': [],
                'shareData': {
                    'isShowExt': ''
                }
            },
            function(result) {
                if (result.success == true || result.success == 'true') {
                    var callBackId = result.data ? result.data.callBackId : '';
                    if (callBackId == 'callback1') {
                        callback1();
                    }
                }
            }
        );

        function callback1() {
            var curStep = $('#visitstepNav').find('li.cur').index();
            if (curStep < 8) {
                $('#visitstepNav').find('li').eq(curStep + 1).click();
            } else {
                u.showSubmitSuc();
            }
        }

        //拜访一进来指定选中的tab
        var curStep = u.getUrlParams('step');
        if (curStep) {
            $('#visitstepNav').find('li').eq(curStep - 1).click();
        }
        //拜访的位置
        XuntongJSBridge.call('getLocation', {}, function(result) {
            $('#visitLocation').text(result.data.addressdetail);
        });


        //产品铺货的list
        $.qryData('distribute', distributeCb);
        //竞品的list
        $.qryData('opponent', opponentCb);

        //拜访八步骤tab的滑动效果
        $('#visitstepNav').on('touchstart', touch);
        $('#visitstepNav').on('touchmove', touch);
        $('#visitstepNav').on('touchend', touch);
        var beforeClient = null;

        function distributeCb(data) {
            var distribute_str = "",
                ordermanage_str = "";
            for (var i = 0, len = data.length; i < len; i++) {
                distribute_str += '<li><span class="triangle-right distribute-fold"><img src="assets/css/image/triangle-right.png" /></span><span>' + data[i] + '</span></li>';
                ordermanage_str += '<li><span class="triangle-right ordermanage-fold"><img src="assets/css/image/triangle-right.png" /></span><span>' + data[i] + '</span></li>';
            }
            $('#distributeContent').html(distribute_str);
            $('#orderManageContent').html(ordermanage_str);
        }

        function opponentCb(data) {
            var opponent_str = "";
            for (var i = 0, len = data.length; i < len; i++) {
                opponent_str += '<li><span class="triangle-right opponent-fold"><img src="assets/css/image/triangle-right.png" /></span><span>' + data[i] + '</span></li>';
            }
            $('#opponentContent').html(opponent_str);
        }

        function touch() {
            var event = event || window.event;

            var target = document.getElementById("visitstepNav");

            switch (event.type) {
                case "touchstart":
                    //target.style.left = event.touches[0].clientX + "px";
                    break;
                case "touchend":
                    beforeClient = null;
                    break;
                case "touchmove":
                    event.preventDefault();
                    var curleft = Number(target.style.left.slice(0, -2)) + Number(event.touches[0].clientX - beforeClient);
                    beforeClient && (curleft < 0) && (curleft > 0 - $('#visitstepNav')[0].clientWidth) && (target.style.left = curleft + "px");
                    beforeClient = event.touches[0].clientX;
                    break;
            }
        }


    };

    //终端活跃度
    function terminalactivity() {
        //当前月份
        var curMonth = new Date().getMonth() + 1;
        $('#curMonth').html(curMonth);

        //月度销量对比   为柱状图
        var monthSale = echarts.init($('#monthSale')[0]);

        var option1 = {
            color: ['#B0D959'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            title: {
                text: "单位(家)",
                textStyle: {
                    color: "#404040",
                    fontSize: 18,
                    fontWeight: '90'
                }
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLabel: { interval: 0 },
                splitLine: { show: false },
                data: [{ value: '下单>10次', textStyle: { fontStyle: 20 } },
                    { value: '下单5-10次', textStyle: { fontStyle: 20 } },
                    { value: '下单<5次', textStyle: { fontStyle: 20 } },
                    { value: '从未下单', textStyle: { fontStyle: 20 } }
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '数量',
                type: 'bar',
                barWidth: 30,
                itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                data: [300, 200, 650, 350]
            }]
        };

        monthSale.setOption(option1);

        monthSale.on('click', function(params) {
            location.href = "#/view/yzj/salesman/performance/activedetail";
        })
    }


    //跳转到达人榜
    function salesvolumn() {

        XuntongJSBridge.call('createPop', {
                'popTitle': "达人榜",
                'popTitleCallBackId': "callback1",
                'menuList': [],
                'shareData': {
                    'isShowExt': ''
                }
            },
            function(result) {
                if (result.success == true || result.success == 'true') {
                    var callBackId = result.data ? result.data.callBackId : '';
                    if (callBackId == 'callback1') {
                        callback1();
                    }
                }
            }
        );

        function callback1() {
            location.href = "#/view/yzj/salesman/performance/rank";
        }

    }

    //设置右上角的提交
    function setSubmit() {
        XuntongJSBridge.call('createPop', {
                'popTitle': "提交",
                'popTitleCallBackId': "callback1",
                'menuList': [],
                'shareData': {
                    'isShowExt': ''
                }
            },
            function(result) {
                if (result.success == true || result.success == 'true') {
                    var callBackId = result.data ? result.data.callBackId : '';
                    if (callBackId == 'callback1') {
                        callback1();
                    }
                }
            }
        );

        function callback1() {
            u.showSubmitSuc();
        }

    }

    /*主管-工作*/
    function coopInvest() {
        $('.coop_visit').find('li').click(function() {
            $(this).closest('.coop_invest').addClass('hide').end().closest('.coop_invest').next().removeClass('hide');
            XuntongJSBridge.call('setWebViewTitle', { 'title': "业代关联门店" });
        });
        $('.relate_store').find('li').click(function() {
            $(this).closest('.coop_invest').addClass('hide').end().closest('.coop_invest').next().removeClass('hide');
            XuntongJSBridge.call('setWebViewTitle', { 'title': "店头照" });
        });
        $('.store-pic').find('.next_step').click(function() {
            $('.store-pic').addClass('hide');
            $('.visit_assess').removeClass('hide');
            XuntongJSBridge.call('setWebViewTitle', { 'title': "拜访评估" });
        });
        $('.visit_assess .addterminal-box .next_step').click(function() {
            u.showSubmitSuc();
        })
    }

    /*主管-销量分析*/
    function salesasync() {
        //当前月份
        var curMonth = new Date().getMonth() + 1;
        $('#curMonth').html(curMonth);
        //月度销量对比   为柱状图
        var monthSale = echarts.init($('#monthSale')[0]);

        var option1 = {
            color: ['#3398DB'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            title: {
                text: "单位(万元)",
                textStyle: {
                    color: "#404040",
                    fontSize: 14,
                    fontWeight: '50'
                }
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLabel: { interval: 0 },
                splitLine: { show: false },
                data: [{ value: '全家便利店', textStyle: { fontStyle: 20 } },
                    { value: '家乐福', textStyle: { fontStyle: 20 } },
                    { value: 'ok便利店', textStyle: { fontStyle: 20 } },
                    { value: '百佳', textStyle: { fontStyle: 20 } },
                    { value: '吉之岛', textStyle: { fontStyle: 20 } },
                    { value: '华润万家', textStyle: { fontStyle: 20 } },
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '销量',
                type: 'bar',
                barWidth: 15,
                itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                data: [300, 200, 650, 350, 400, 200]
            }]
        };

        monthSale.setOption(option1);

        //年度销量
        var yearSale = echarts.init($('#yearSale')[0]);

        var option2 = {
            tooltip: {
                trigger: 'axis'
            },
            color: ['#ffb530', '#34acea'],
            legend: {
                data: [{
                    name: '今年',
                    icon: 'roundRect'
                }, {
                    name: '去年',
                    icon: 'roundRect'
                }],
                top: '10%',
                right: '0%'
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                splitLine: { show: false },
                data: [{ value: '4月', textStyle: { fontStyle: 20 } },
                    { value: '5月', textStyle: { fontStyle: 20 } },
                    { value: '6月', textStyle: { fontStyle: 20 } },
                    { value: '7月', textStyle: { fontStyle: 20 } },
                    { value: '8月', textStyle: { fontStyle: 20 } },
                    { value: '9月', textStyle: { fontStyle: 20 } },
                    { value: '10月', textStyle: { fontStyle: 20 } }
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '今年',
                type: 'line',
                lineStyle: {
                    normal: {
                        color: '#ffb530'
                    }
                },
                itemStyle: { normal: { label: { show: true } } },
                stack: '总量',
                data: [120, 132, 101, 134, 90, 230, 210]
            }, {
                name: '去年',
                type: 'line',
                lineStyle: {
                    normal: {
                        color: '#34acea'
                    }
                },
                itemStyle: { normal: { label: { show: true } } },
                stack: '总量',
                data: [220, 182, 191, 234, 290, 330, 310]
            }]
        };

        yearSale.setOption(option2);



        //点击按终端、按产品的tab
        $('.sales-async nav').on('touchend', 'li', function() {
            if ($(this).hasClass('cur')) return;
            $(this).siblings().removeClass('cur').end().addClass('cur');
            if ($(this).index() == 1) {
                $.qryData('distribute', distributeCb1);

                function distributeCb1(data) {
                    $.extend(option1, {
                        xAxis: [{
                            type: 'category',
                            minInterval: 1000,
                            boundaryGap: false,
                            axisLabel: {
                                interval: 0,
                                formatter: function(value, index) {
                                    // 截取前5个
                                    return value.slice(0, 5);
                                }
                            },
                            splitLine: { show: false },
                            data: [{ value: data[0], textStyle: { fontStyle: 20 } },
                                { value: data[1], textStyle: { fontStyle: 20 } },
                                { value: data[2], textStyle: { fontStyle: 20 } },
                                { value: data[3], textStyle: { fontStyle: 20 } }
                            ]
                        }],
                        yAxis: [{
                            type: 'value',
                            axisLabel: {
                                interval: 0,
                                margin: 2,
                                textStyle: {
                                    fontStyle: 20
                                }
                            }
                        }],
                        series: [{
                            name: '销量',
                            type: 'bar',
                            barWidth: 25,
                            itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                            data: [100, 520, 200, 334]
                        }]
                    });
                    monthSale.setOption(option1);
                }

            } else {
                $.extend(option1, {
                    xAxis: [{
                        type: 'category',
                        minInterval: 1000,
                        boundaryGap: false,
                        axisLabel: { interval: 0 },
                        splitLine: { show: false },
                        data: [{ value: '全家便利店', textStyle: { fontStyle: 20 } },
                            { value: '家乐福', textStyle: { fontStyle: 20 } },
                            { value: 'ok便利店', textStyle: { fontStyle: 20 } },
                            { value: '百佳', textStyle: { fontStyle: 20 } },
                            { value: '吉之岛', textStyle: { fontStyle: 20 } },
                            { value: '华润万家', textStyle: { fontStyle: 20 } },
                        ]
                    }],
                    yAxis: [{
                        type: 'value',
                        axisLabel: {
                            interval: 0,
                            margin: 2,
                            textStyle: {
                                fontStyle: 20
                            }
                        }
                    }],
                    series: [{
                        name: '销量',
                        type: 'bar',
                        barWidth: 25,
                        itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                        data: [300, 700, 850, 250, 400, 200]
                    }]
                });
                monthSale.setOption(option1);
            }


        })


    }


    /*主管-拜访分析*/
    function visitasync() {
        //今日   为柱状图
        var todaySale = echarts.init($('#todaySale')[0]);

        var option1 = {
            color: ['#3398DB'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            title: {
                text: "单位(万元)",
                left: "80%",
                textStyle: {
                    color: "#404040",
                    fontSize: 14,
                    fontWeight: '50'
                }
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLabel: { interval: 0 },
                splitLine: { show: false },
                data: [{ value: '李斌', textStyle: { fontStyle: 20 } },
                    { value: '张乐天', textStyle: { fontStyle: 20 } },
                    { value: '陈燕青', textStyle: { fontStyle: 20 } },
                    { value: '杜洋', textStyle: { fontStyle: 20 } },
                    { value: '刘毅', textStyle: { fontStyle: 20 } },
                    { value: '王可凡', textStyle: { fontStyle: 20 } },
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '销量',
                type: 'bar',
                barWidth: 15,
                itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                data: [4, 5, 3.8, 4.1, 5.2, 2]
            }]
        };

        todaySale.setOption(option1);

        //本月销量
        var monthSale = echarts.init($('#monthSale')[0]);
        var curMonth = new Date().getMonth() + 1;
        var option2 = {
            tooltip: {
                trigger: 'axis'
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLabel: { interval: 0 },
                splitLine: { show: false },
                data: [{ value: '李斌', textStyle: { fontStyle: 20 } },
                    { value: '张乐天', textStyle: { fontStyle: 20 } },
                    { value: '陈燕青', textStyle: { fontStyle: 20 } },
                    { value: '杜洋', textStyle: { fontStyle: 20 } },
                    { value: '刘毅', textStyle: { fontStyle: 20 } },
                    { value: '王可凡', textStyle: { fontStyle: 20 } },
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '本月',
                type: 'line',
                lineStyle: {
                    normal: {
                        color: '#ffb530'
                    }
                },
                itemStyle: { normal: { label: { show: true } } },
                stack: '总量',
                data: [4, 5, 3.8, 4.1, 5.2, 2]
            }]
        };

        monthSale.setOption(option2);



        //点击按终端、按产品的tab
        $('.sales-async nav').on('touchend', 'li', function() {
            if ($(this).hasClass('cur')) return;
            $(this).siblings().removeClass('cur').end().addClass('cur');
            if ($(this).index() == 1) {
                $.extend(option2, {
                    xAxis: [{
                        type: 'category',
                        boundaryGap: false,
                        axisLabel: { interval: 0 },
                        splitLine: { show: false },
                        data: [{ value: curMonth + "月" + 1 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 5 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 9 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 13 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 17 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 21 + "日", textStyle: { fontStyle: 20 } },
                            { value: curMonth + "月" + 25 + "日", textStyle: { fontStyle: 20 } },
                        ]
                    }],
                    series: [{
                        name: '今日',
                        type: 'line',
                        lineStyle: {
                            normal: {
                                color: '#ffb530'
                            }
                        },
                        itemStyle: { normal: { label: { show: true } } },
                        stack: '总量',
                        data: [12, 13, 10, 13, 9, 23, 21]
                    }]
                });
                $('#monthSale').replaceWith('<div class="chart-box" id="monthSale"></div>');
                monthSale = echarts.init($('#monthSale')[0]);
                monthSale.setOption(option2);

            } else {
                $.extend(option2, {
                    xAxis: [{
                        type: 'category',
                        boundaryGap: false,
                        axisLabel: { interval: 0 },
                        splitLine: { show: false },
                        data: [{ value: '李斌', textStyle: { fontStyle: 20 } },
                            { value: '张乐天', textStyle: { fontStyle: 20 } },
                            { value: '陈燕青', textStyle: { fontStyle: 20 } },
                            { value: '杜洋', textStyle: { fontStyle: 20 } },
                            { value: '刘毅', textStyle: { fontStyle: 20 } },
                            { value: '王可凡', textStyle: { fontStyle: 20 } },
                        ]
                    }],
                    series: [{
                        name: '本月',
                        type: 'line',
                        lineStyle: {
                            normal: {
                                color: '#ffb530'
                            }
                        },
                        itemStyle: { normal: { label: { show: true } } },
                        stack: '总量',
                        data: [4, 5, 3.8, 4.1, 5.2, 2]
                    }]
                });
                $('#monthSale').replaceWith('<div class="chart-box" id="monthSale"></div>');
                monthSale = echarts.init($('#monthSale')[0]);
                monthSale.setOption(option2);
            }


        })


    }

    /*促销分析*/
    function promotionasync() {
        //今日   为柱状图
        var promotion = echarts.init($('#promotion')[0]);

        var option1 = {
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            color: ['#B0D959', '#34ACEA'],
            legend: {
                data: [{
                    name: '总量',
                    icon: 'roundRect'
                }, {
                    name: '已执行',
                    icon: 'roundRect'
                }],
                top: '10%',
                right: '0%'
            },
            title: {
                text: "单位(万元)",
                left: "80%",
                textStyle: {
                    color: "#404040",
                    fontSize: 14,
                    fontWeight: '50'
                }
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLabel: { interval: 0 },
                splitLine: { show: false },
                data: [{ value: '中秋促销', textStyle: { fontStyle: 20 } },
                    { value: '国庆促销', textStyle: { fontStyle: 20 } },
                    { value: '五一促销', textStyle: { fontStyle: 20 } },
                    { value: '元旦促销', textStyle: { fontStyle: 20 } },
                    { value: '双十一促销', textStyle: { fontStyle: 20 } }
                ]
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    interval: 0,
                    margin: 2,
                    textStyle: {
                        fontStyle: 20
                    }
                }
            }],
            series: [{
                name: '总量',
                type: 'bar',
                barWidth: 15,
                itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                data: [1300, 1200, 850, 1200, 1100]
            }, {
                name: '已执行',
                type: 'bar',
                barWidth: 15,
                itemStyle: { normal: { label: { show: true, position: 'outside' } } },
                data: [830, 1100, 450, 860, 765]
            }]
        };

        promotion.setOption(option1);

        promotion.on('click', function() {
            location.href = "#/view/yzj/salesman/performance/mypromotion";
        })
    }

    window.pagetitle = {
        about: "关于玄讯",
        industry: "选择行业",
        role: "选择角色",
        check: "考勤",
        featurelist: "功能列表",
        terminal: "附近终端",
        addterminal: "新增终端",
        myterminal: "我的终端",
        editterminal: "修改终端",
        visit: "今日拜访",
        mypromotion: "我的促销",
        terminalactivity: "终端活跃度",
        activedetail: "终端活跃度明细",
        relateterminal: "关联终端",
        performlist: "业务员-业绩",
        rank: "达人榜",
        salesvolumn: "订单查询",
        visitstep: "店面工作",
        visitreview: "拜访回顾",
        coopInvest: "协查",
        agentCheck: "下属本月考勤",
        salesasync: "销量分析",
        visitasync: "拜访分析",
        promotionasync: "促销分析"
    }

    return {
        about: about,
        industry: industry,
        role: role,
        check: check,
        featurelist: featurelist,
        terminal: terminal,
        addterminal: addterminal,
        myterminal: myterminal,
        editterminal: editterminal,
        visit: myterminal,
        visitreview: visitreview,
        visitstep: visitstep,
        terminalactivity: terminalactivity,
        pagetitle: pagetitle,
        activedetail: activedetail,
        salesvolumn: salesvolumn,
        coopInvest: coopInvest,
        salesasync: salesasync,
        visitasync: visitasync,
        promotionasync: promotionasync
    }
})
